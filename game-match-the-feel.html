<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match the Feel - DATOV</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: rgba(21, 23, 37, 0.5);
            border-radius: var(--radius-md);
            border: 1px solid rgba(255, 255, 255, 0.05);
            max-width: 800px;
            margin: 0 auto;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            width: 100%;
            font-size: 1.2rem;
            font-weight: 600;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--radius-sm);
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            width: 100%;
            max-width: 600px;
            perspective: 1000px;
        }

        .card {
            aspect-ratio: 3/4;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card.matched {
            transform: rotateY(180deg) scale(0.95);
            opacity: 0.7;
            cursor: default;
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-sm);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .card-front {
            background: linear-gradient(135deg, #1e2136 0%, #0a0b14 100%);
            font-size: 2rem;
            color: var(--primary);
        }

        .card-back {
            background: #fff;
            transform: rotateY(180deg);
            font-size: 2.5rem;
            color: #333;
        }

        .card-back i {
            filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.2));
        }

        .controls {
            display: flex;
            gap: 1rem;
        }

        @media (max-width: 500px) {
            .grid-container {
                gap: 0.5rem;
            }
        }
    </style>
</head>

<body>

    <header class="header">
        <div class="container flex flex-between">
            <a href="index.html" class="logo">DATOV</a>
            <nav>
                <ul class="nav-links">
                    <li><a href="index.html#games">Back to Games</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="section" style="padding-top: 8rem;">
        <div class="container">
            <div class="game-container">
                <div class="stats-bar">
                    <span id="movesDisplay">Moves: 0</span>
                    <span id="timeDisplay">Time: 0s</span>
                </div>

                <div class="grid-container" id="grid">
                    <!-- Cards generated by JS -->
                </div>

                <div class="controls">
                    <button id="restartBtn" class="btn btn-primary">Restart Game</button>
                </div>
            </div>
        </div>
    </section>

    <script>
        const ICONS = [
            'fa-ghost', 'fa-gamepad', 'fa-rocket', 'fa-puzzle-piece',
            'fa-gem', 'fa-heart', 'fa-star', 'fa-bolt'
        ];

        let cards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let moves = 0;
        let timer = 0;
        let timerInterval;
        let isLocked = false;

        const grid = document.getElementById('grid');
        const movesDisplay = document.getElementById('movesDisplay');
        const timeDisplay = document.getElementById('timeDisplay');
        const restartBtn = document.getElementById('restartBtn');

        restartBtn.addEventListener('click', initGame);

        function initGame() {
            // Reset state
            cards = [...ICONS, ...ICONS]; // Duplicate for pairs
            cards.sort(() => Math.random() - 0.5); // Shuffle

            flippedCards = [];
            matchedPairs = 0;
            moves = 0;
            timer = 0;
            isLocked = false;

            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timer++;
                timeDisplay.textContent = `Time: ${timer}s`;
            }, 1000);

            updateMoves();
            renderGrid();
        }

        function updateMoves() {
            movesDisplay.textContent = `Moves: ${moves}`;
        }

        function renderGrid() {
            grid.innerHTML = '';
            cards.forEach((icon, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.index = index;
                card.dataset.icon = icon;

                const front = document.createElement('div');
                front.className = 'card-face card-front';
                front.innerHTML = '<i class="fas fa-question"></i>';

                const back = document.createElement('div');
                back.className = 'card-face card-back';
                back.innerHTML = `<i class="fas ${icon}"></i>`;
                // Add random color to icon for visual flair
                back.style.color = getRandomColor();

                card.appendChild(front);
                card.appendChild(back);

                card.addEventListener('click', () => flipCard(card));
                grid.appendChild(card);
            });
        }

        function getRandomColor() {
            const colors = ['#ff00ff', '#00f3ff', '#7000ff', '#00ff00', '#ff0000', '#ffff00'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function flipCard(card) {
            if (isLocked) return;
            if (card.classList.contains('flipped')) return;
            if (card.classList.contains('matched')) return;

            card.classList.add('flipped');
            flippedCards.push(card);

            if (flippedCards.length === 2) {
                moves++;
                updateMoves();
                checkForMatch();
            }
        }

        function checkForMatch() {
            isLocked = true;
            const [card1, card2] = flippedCards;
            const match = card1.dataset.icon === card2.dataset.icon;

            if (match) {
                disableCards();
            } else {
                unflipCards();
            }
        }

        function disableCards() {
            flippedCards.forEach(card => {
                card.classList.add('matched');
            });
            flippedCards = [];
            matchedPairs++;
            isLocked = false;

            if (matchedPairs === ICONS.length) {
                gameOver();
            }
        }

        function unflipCards() {
            setTimeout(() => {
                flippedCards.forEach(card => {
                    card.classList.remove('flipped');
                });
                flippedCards = [];
                isLocked = false;
            }, 1000);
        }

        function gameOver() {
            clearInterval(timerInterval);
            setTimeout(() => {
                alert(`You won! Moves: ${moves}, Time: ${timer}s`);
            }, 500);
        }

        // Start immediately
        initGame();

    </script>
</body>

</html>